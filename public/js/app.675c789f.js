(function(t){function e(e){for(var a,r,c=e[0],o=e[1],l=e[2],d=0,u=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);p&&p(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var o=i[r];0!==s[o]&&(a=!1)}a&&(n.splice(e--,1),t=c(c.s=i[0]))}return t}var a={},s={app:0},n=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"ff1c36c7","chunk-64f84645":"c825065d"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(t){var e=[],i=s[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,a){i=s[t]=[e,a]}));e.push(i[2]=a);var n,o=document.createElement("script");o.charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=r(t);var l=new Error;n=function(e){o.onerror=o.onload=null,clearTimeout(d);var i=s[t];if(0!==i){if(i){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,i[1](l)}s[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:o})}),12e4);o.onerror=o.onload=n,document.head.appendChild(o)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(i,a,function(e){return t[e]}.bind(null,a));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var p=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0b1c":function(t,e,i){},"276e":function(t,e,i){"use strict";i("3bc4")},3788:function(t,e,i){},"3bc4":function(t,e,i){},"40a2":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{id:"app"}},[i("step-baner"),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view")],1)],1)},n=[],r=i("5530"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.editable?i("div",{staticClass:"w-100 overflow-hiddenx bg-light"},[i("div",{staticClass:"top-space"}),i("div",{staticClass:"relative"},[i("div",{staticClass:"absolute z-2 slider-prev"},[i("v-btn",{staticClass:"absolute",attrs:{icon:"",color:"primary","x-large":"",height:"72",width:"72",title:"Wróć do poprzedniego kroku",disabled:0==t.sliderModel},on:{click:t.prevSlide}},[i("v-icon",{attrs:{size:"42"}},[t._v("mdi-arrow-left")])],1)],1),i("div",{staticClass:"absolute z-2 slider-next"},[2!=t.sliderModel?i("v-btn",{attrs:{icon:"",color:"primary","x-large":"",height:"72",width:"72",title:"Następny krok",disabled:1==t.sliderModel||t.keyFactorsLength<2||t.loading},on:{click:t.nextSlide}},[i("v-icon",{attrs:{size:"42"}},[t._v("mdi-arrow-right")])],1):t._e()],1),i("div",{staticClass:"section-wrap center ph3 w-80 w-70-l relative"},[i("div",{staticClass:"absolute slider-i"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66.874 60.422",height:"182.693",width:"202.201"}},[i("path",{attrs:{d:"M50.155 59.168c-2.896 1.672-30.54 1.672-33.437 0C13.823 57.496 0 33.555 0 30.211 0 26.867 13.823 2.926 16.718 1.254c2.896-1.672 30.541-1.672 33.437 0 2.896 1.672 16.719 25.613 16.719 28.957 0 3.344-13.823 27.285-16.719 28.957z",opacity:".449",fill:"#5edbeb"}})])])]),i("v-carousel",{attrs:{height:"160",light:"","show-arrows":!1,touchless:"","hide-delimiters":""},model:{value:t.sliderModel,callback:function(e){t.sliderModel=e},expression:"sliderModel"}},t._l(t.steps,(function(e,a){return i("v-carousel-item",{key:a},[i("section",{staticClass:"w-100 relative items-center h-100 "},[i("div",{staticClass:"flex h-100 items-center section-wrap center ph3 w-80 w-70-l relative"},[i("div",{staticClass:"c-dark flex-grow-1 f-www"},[i("div",{staticClass:"f3 fw7 mb2"},[t._v(t._s(e.title))]),i("div",[t._v(t._s(e.content))])])])])])})),1)],1)]):i("div",{staticClass:"top-space-half"})},o=[],l=i("2f62"),d={data:function(){return{sliderModel:0}},computed:Object(r["a"])({},Object(l["c"])("scenarios",["id","title","steps","currentSlide","possibleStep","editable","keyFactorsLength","loading"])),watch:{currentSlide:function(t){t!=this.sliderModel&&(this.sliderModel=t)}},methods:Object(r["a"])(Object(r["a"])({},Object(l["d"])("scenarios",["setCurrentSlide"])),{},{prevSlide:function(){var t=this.currentSlide-1;this.setCurrentSlide(t),0==t?this.$router.push("/tematy/"+this.id):1==t&&this.$router.push("/tematy/"+this.id+"/scenariusze")},nextSlide:function(){0==this.currentSlide&&this.$router.push("/tematy/"+this.id+"/scenariusze")}})},p=d,u=i("2877"),f=i("6544"),h=i.n(f),v=i("8336"),y=i("5e66"),w=i("3e35"),m=i("132d"),b=Object(u["a"])(p,c,o,!1,null,null,null),_=b.exports;h()(b,{VBtn:v["a"],VCarousel:y["a"],VCarouselItem:w["a"],VIcon:m["a"]});var g={components:{StepBaner:_},data:function(){return{}},computed:Object(r["a"])({},Object(l["c"])("scenarios",["id"])),mounted:function(){var t=this,e=document.getElementById("topic").dataset["id"];e&&(this.setId(e),this.getTopic(e).then((function(){t.setup()})))},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])("scenarios",["setup","getTopic"])),Object(l["d"])("scenarios",["setId"]))},T=g,C=(i("034f"),i("7496")),F=Object(u["a"])(T,s,n,!1,null,null,null),k=F.exports;h()(F,{VApp:C["a"]});i("4de4"),i("7db0"),i("4160"),i("d3b7"),i("159b");function x(){return{error:{code:"0"}}}var j="http://localhost/api",z={getTopic:function(t){return fetch(j+"/topic/"+t+"?t="+(new Date).getTime(),{method:"GET"}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(){return x()}))},addTopicType:function(t){var e=t.id_topic,i=t.id_factor_type,a=new FormData;return a.append("id_factor_type",i),a.append("id_topic",e),fetch(j+"/add_topic_type?t="+(new Date).getTime(),{method:"POST",body:a}).then((function(t){return t.json()})).catch((function(){return x()}))},createAddTopicType:function(t){var e=t.id_topic,i=t.title,a=new FormData;return a.append("title",i),a.append("id_topic",e),fetch(j+"/create_add_topic_type?t="+(new Date).getTime(),{method:"POST",body:a}).then((function(t){return t.json()})).catch((function(){return x()}))},deleteTopicType:function(t){var e=t.id,i=t.id_topic,a=t.id_factor_type,s=new FormData;return s.append("id",e),s.append("id_factor_type",a),s.append("id_topic",i),fetch(j+"/del_topic_type?t="+(new Date).getTime(),{method:"POST",body:s}).then((function(t){return t.json()})).catch((function(){return x()}))},updateFactor:function(t){var e=new FormData;return e.append("id",t.id),e.append("id_topic",t.id_topic),e.append("title",t.title),e.append("type",t.type),e.append("key_factor",t.key_factor),e.append("ord",t.ord),fetch(j+"/update_factor?t="+(new Date).getTime(),{method:"POST",body:e}).then((function(t){return t.json()})).catch((function(){return x()}))},deleteFactor:function(t){var e=new FormData;return e.append("id",t.id),e.append("id_topic",t.id_topic),fetch(j+"/delete_factor?t="+(new Date).getTime(),{method:"POST",body:e}).then((function(t){return t.json()})).catch((function(){return x()}))},updateKeyFactors:function(t){var e=t.id_topic,i=t.keyFactorsId,a=new FormData;return a.append("id_topic",e),i.forEach((function(t){return a.append("id[]",t)})),fetch(j+"/update_key_factors?t="+(new Date).getTime(),{method:"POST",body:a}).then((function(t){return t.json()})).catch((function(){return x()}))},updateScenario:function(t){var e=new FormData;return e.append("id",t.id),e.append("id_topic",t.id_topic),e.append("title",t.title),e.append("content",t.content),e.append("ord",t.ord),fetch(j+"/update_scenario?t="+(new Date).getTime(),{method:"POST",body:e}).then((function(t){return t.json()})).catch((function(){return x()}))},updateScenarioFactors:function(t){var e=new FormData;return e.append("nr",t.nr),e.append("id_topic",t.id_topic),e.append("factors",t.factors),fetch(j+"/update_scenario_factors?t="+(new Date).getTime(),{method:"POST",body:e}).then((function(t){return t.json()})).catch((function(){return x()}))}},S=function(){return{id:{},one:{id:1,title:"",factors_types:{},topics_factors_types:[],factors:[],scenarios:[],editable:0},steps:[{title:"Budowa scenariusza",subtitle:"",content:"Wprowadź czynniki mające wpływ na badane zagadnienie i wybierz spośród nich dwa kluczowe, które w największym stopniu wpływają na perspektywy jego rozwoju.",color:""},{title:"Nazwij scenariusze",subtitle:"",content:"Pomyśl o kreatywnych nazwach dla czterech scenariuszy. Osie układu odzwierciedlają siłę z jaką oddziałują czynniki kluczowe.",color:""},{title:"Opisz scenariusz",subtitle:"",content:"Wprowadź nazwę scenariusza. Dodaj czynniki, które w największym stopniu wpływają na rozwój tego scenariusza.",color:""}],currentStep:0,currentSlide:0,loading:!1}},O={id:function(t){return t.id},factorsTypes:function(t){return t.one.factors_types},factorsByType:function(t){return function(e){return t.one.factors?t.one.factors.filter((function(t){return t.type==e})):[]}},factorsByTypeLength:function(t,e){return function(t){return e.factorsByType(t)?e.factorsByType(t).length:0}},topicType:function(t){return function(e){return t.one.topics_factors_types[e]?t.one.topics_factors_types[e]:{}}},topicsFactorsTypes:function(t){return t.one.topics_factors_types},topicsFactorsTypesLength:function(t,e){return e.topicsFactorsTypes.length},keyFactors:function(t){return t.one.factors?t.one.factors.filter((function(t){return"1"==t.key_factor})):[]},notKeyFactors:function(t){return t.one.factors.filter((function(t){return"1"==t.type&&"1"!=t.key_factor}))||[]},factors:function(t,e){return e.factorsByType(1)},factorsLength:function(t,e){return e.factors.length},keyFactorsLength:function(t,e){return e.keyFactors.length},editable:function(t){return"1"==t.one.editable},loading:function(t){return t.loading},steps:function(t){return t.steps},title:function(t){return t.one.title},currentSlide:function(t){return t.currentSlide},scenarioByNr:function(t){return function(e){return t.one.scenarios.find((function(t){return t.ord==e}))||{}}},senarioFactors:function(t){return function(e){return t.one.factors.filter((function(t){return 1==t["scenario_"+e]}))}}},L={setId:function(t,e){t.id=e},insertFactor:function(t,e){t.one.factors.push(e)},setAll:function(t,e){t.all=e},setOne:function(t,e){t.one=e},setLoading:function(t,e){t.loading=e},setListener:function(t,e){t.listener=e},setCurrentSlide:function(t,e){t.currentSlide=e},setEditable:function(t,e){t.one.editable=e}},D={getTopic:function(t,e){var i=t.commit;return i("setLoading",!0),z.getTopic(e).then((function(t){return i("setOne",t),i("setLoading",!1),t}))},updateFactor:function(t,e){var i=t.commit,a=t.dispatch;return z.updateFactor(e).then((function(t){return i("setOne",t),a("setup"),t}))},deleteFactor:function(t,e){var i=t.commit,a=t.dispatch;return z.deleteFactor(e).then((function(t){return i("setOne",t),a("setup"),t}))},deleteTopicType:function(t,e){var i=t.commit,a=t.dispatch;return z.deleteTopicType(e).then((function(t){return t.error||(i("setOne",t),a("setup")),t}))},createAddTopicType:function(t,e){var i=t.commit,a=t.dispatch;return z.createAddTopicType(e).then((function(t){return t.error||(i("setOne",t),a("setup")),t}))},updateKeyFactors:function(t,e){var i=t.commit,a=t.dispatch;return z.updateKeyFactors(e).then((function(t){return i("setOne",t),a("setup"),t}))},updateScenario:function(t,e){var i=t.commit;return z.updateScenario(e).then((function(t){return i("setOne",t),t}))},updateScenarioFactors:function(t,e){var i=t.commit;return z.updateScenarioFactors(e).then((function(t){return i("setOne",t),t}))},setup:function(){},addTopicType:function(t,e){var i=t.commit;return z.addTopicType(e).then((function(t){return i("setOne",t),t}))}},V={namespaced:!0,state:S,getters:O,actions:D,mutations:L};a["a"].use(l["a"]);var B=new l["a"].Store({state:{},mutations:{},actions:{},modules:{scenarios:V}}),P=i("f309");a["a"].use(P["a"]);var E=new P["a"]({theme:{themes:{light:{primary:"#231f20",secondary:"#FFCDD2",accent:"#3F51B5"}}}}),N=i("8c4f"),I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-100 overflow-hidden"},[this.loading?i("section",{staticClass:"tc page-loader"},[i("v-progress-circular",{attrs:{size:366,width:8,color:"#db2f89",indeterminate:""}})],1):i("section",{staticClass:"diagram",class:{"to-print":t.toPrint,"to-read":t.toRead},attrs:{id:"print-canvas"}},[i("div",{staticClass:"section-wrap center ph3 w-100 w-90-l pb4"},[i("h1",{staticClass:"tc c-dark fw7 mv6 f3 f2-m f1-l w-100 w-70-l lh-solid center"},[t._v(t._s(t.title))]),i("div",{staticClass:"flex flex-wrap w-100"},[i("div",{staticClass:"w-50 flex items-end"},[i("div",{staticClass:"w-100 flex flex-wrap"},[i("div",{staticClass:"w-third flex flex-column justify-center di-le"},t._l(t.keyFactors,(function(e,a){return i("div",{key:a,staticClass:"chip-wrap",class:[t.nodeClass(a,t.keyFactorsLength)]},[i("v-chip",{staticClass:"tc rounded-lg",attrs:{label:"",link:"",color:"#db2f89","text-color":"white"}},[t._v(t._s(e.title))])],1)})),0),i("div",{staticClass:"w-2"}),i("div",{staticClass:"w-third flex items-end"},[i("div",{staticClass:"w-100 pv7 relative z-1",class:{"di-step-2":t.keyFactorsLength>0}},[i("div",{staticClass:"way-tl"}),t.editable?i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("div",{staticClass:"relative btc"},[t.keyFactorsLength<2&&t.factorsLength>1?i("div",{staticClass:"pulse-bg chip2"}):t._e(),i("v-tooltip",{attrs:{top:"","max-width":"400",color:"#db2f89"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[i("v-btn",t._g({staticClass:"rounded-lg z-3",class:{"white--text":t.factorsLength>1},attrs:{block:"",height:"64",elevation:n?8:0,outlined:t.factorsLength<2,color:"#db2f89",disabled:t.factorsLength<2}},Object.assign({},s,a)),[t._v(" Czynniki kluczowe ")])]}}],null,!0)})]}}],null,!0)},[i("span",[t._v(t._s(t.factorsTypes2.content))])])],1)]}}],null,!1,528456878),model:{value:t.dialogKey,callback:function(e){t.dialogKey=e},expression:"dialogKey"}},[i("v-card",[i("v-card-title",[t._v("Wybierz 2 czynniki kluczowe")]),i("v-divider"),i("v-card-text",{staticClass:"mt3"},[i("v-chip-group",{attrs:{column:"",multiple:"","active-class":"chip2"},model:{value:t.keyFactorsSelection,callback:function(e){t.keyFactorsSelection=e},expression:"keyFactorsSelection"}},t._l(t.factors,(function(e,a){return i("v-chip",{key:a,staticClass:"rounded-lg",attrs:{filter:"",label:"",value:e.id,disabled:t.keyFactorsSelectionLength>=2&&!t.keyFactorsSelection.includes(e.id)}},[t._v(" "+t._s(e.title)+" ")])})),1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.dialogKey=!1}}},[t._v(" Anuluj ")]),i("v-btn",{attrs:{text:""},on:{click:t.saveKeyFactors}},[t._v(" Zapisz ")])],1)],1)],1):i("div",{staticClass:"relative btc"},[1==t.currentSlide?i("div",{staticClass:"pulse-bg chip2"}):t._e(),i("v-tooltip",{attrs:{top:"","max-width":"400",color:"#db2f89"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[i("v-btn",t._g(t._b({staticClass:"rounded-lg z-3",class:{"white--text":t.factorsLength>1},attrs:{block:"",height:"64",elevation:n?8:0,outlined:t.factorsLength<2,color:"#db2f89",disabled:t.factorsLength<2}},"v-btn",s,!1),a),[t._v(" Czynniki kluczowe ")])]}}],null,!0)})]}}])},[i("span",[t._v(t._s(t.factorsTypes2.content))])])],1),i("div",{staticClass:"triangle-down"})],1)]),i("div",{staticClass:"w-2"})])]),i("div",{staticClass:"w-50"},[i("div",{staticClass:"w-100 flex flex-wrap"},[i("div",{staticClass:"w-2"}),i("div",{staticClass:"w-third flex items-end"},[i("div",{staticClass:"w-100 pv7 relative z-1",class:{"di-step-3":t.topicsFactorsTypes[1]&&t.factorsByTypeLength(t.topicsFactorsTypes[1].id_factor_type)>0}},[i("div",{staticClass:"way-tr"}),i("diagram-button",{attrs:{nr:1},on:{"add-factor":t.addFactor,"del-type":t.confirmDelType,"create-new-type":t.createNewType}}),i("div",{staticClass:"triangle-down"})],1)]),i("div",{staticClass:"w-2"}),t.topicsFactorsTypes[1]?i("div",{staticClass:"w-third flex flex-column justify-center di-r"},t._l(t.factorsByType(t.topicsFactorsTypes[1].id_factor_type),(function(e,a){return i("div",{key:a,staticClass:"chip-wrap",class:[t.nodeClass(a,t.factorsByTypeLength(t.topicsFactorsTypes[1].id_factor_type))]},[i("v-chip",{staticClass:"tc rounded-lg",attrs:{label:"",link:"",color:t.factorsTypes[t.topicsFactorsTypes[1].id_factor_type].color,"text-color":"white"},on:{click:function(i){i.stopPropagation(),t.editable&&t.editFactor(e)}}},[t._v(t._s(e.title))])],1)})),0):i("div",{staticClass:"w-third flex di-r"})])])]),i("div",{staticClass:"flex flex-wrap w-100"},[i("div",{staticClass:"w-2"}),i("div",{staticClass:"w-1"}),t._m(0),i("div",{staticClass:"w-2 relative di-step-5"},[i("div",{staticClass:"relative"},[t.keyFactorsLength>1?i("div",{staticClass:"pulse-bg chip4"}):t._e(),i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[i("v-btn",{staticClass:"rounded-lg z-3",class:{"white--text":t.keyFactorsLength>1},attrs:{block:"",height:"64",elevation:a?8:0,outlined:!(t.keyFactorsLength>1),color:"#231f20",disabled:t.keyFactorsLength<2},on:{click:t.goToScenarios}},[t._v(" Scenariusze ")])]}}])})],1)]),t._m(1),i("div",{staticClass:"w-1"}),i("div",{staticClass:"w-2"})]),i("div",{staticClass:"flex flex-wrap w-100"},[i("div",{staticClass:"w-50"},[i("div",{staticClass:"w-100 flex flex-wrap"},[i("div",{staticClass:"w-third flex flex-column justify-center di-le relative z-1"},t._l(t.factors,(function(e,a){return i("div",{key:a,staticClass:"chip-wrap",class:[t.nodeClass(a,t.factorsLength)]},[i("v-chip",{staticClass:"tc rounded-lg",attrs:{label:"",link:"",color:t.factorsTypes[t.topicsFactorsTypes[0].id_factor_type].color,"text-color":"white"},on:{click:function(i){i.stopPropagation(),t.editable&&t.editFactor(e)}}},[t._v(t._s(e.title))])],1)})),0),i("div",{staticClass:"w-2"}),i("div",{staticClass:"w-third flex items-start"},[i("div",{staticClass:"w-100 pv7 relative pulse-container",class:{"di-step-1":t.factorsLength>0}},[i("div",{staticClass:"way-start"}),i("diagram-button",{attrs:{nr:0},on:{"add-factor":t.addFactor,"del-type":t.confirmDelType,"create-new-type":t.createNewType}}),i("div",{staticClass:"triangle-up"})],1)]),i("div",{staticClass:"w-2"})])]),i("div",{staticClass:"w-50"},[i("div",{staticClass:"w-100 flex flex-wrap",class:{"not-last":t.notLast(2),"next-has-factors":t.nextHasFactors(2)}},[t._m(2),i("div",{staticClass:"w-third flex items-start relative"},[i("div",{staticClass:"way-br"}),i("div",{staticClass:"step-extra"}),i("div",{staticClass:"w-100 pv7 relative",class:{"di-step-4":t.hasFactors(2)}},[i("diagram-button",{attrs:{nr:2},on:{"add-factor":t.addFactor,"del-type":t.confirmDelType,"create-new-type":t.createNewType}}),i("div",{staticClass:"triangle-up"})],1)]),i("div",{staticClass:"w-2"}),t.topicsFactorsTypes[2]?i("div",{staticClass:"w-third flex flex-column justify-center di-r"},t._l(t.factorsByType(t.topicsFactorsTypes[2].id_factor_type),(function(e,a){return i("div",{key:a,staticClass:"chip-wrap",class:[t.nodeClass(a,t.factorsByTypeLength(t.topicsFactorsTypes[2].id_factor_type))]},[i("v-chip",{staticClass:"tc rounded-lg",attrs:{label:"",link:"",color:t.factorsTypes[t.topicsFactorsTypes[2].id_factor_type].color,"text-color":"white"},on:{click:function(i){i.stopPropagation(),t.editable&&t.editFactor(e)}}},[t._v(t._s(e.title))])],1)})),0):i("div",{staticClass:"w-third flex di-r"})])])]),t._l(t.extraSections,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"flex flex-wrap w-100"},[t._m(3,!0),i("div",{staticClass:"w-50"},[i("div",{staticClass:"w-100 flex flex-wrap",class:{"not-last":t.notLast(e),"next-has-factors":t.nextHasFactors(e)}},[t._m(4,!0),i("div",{staticClass:"w-third flex items-start relative"},[i("div",{staticClass:"way-br"}),i("div",{staticClass:"step-extra"}),i("div",{staticClass:"w-100 pv6 relative",class:{"di-step-4":t.hasFactors(e)}},[i("diagram-button",{attrs:{nr:e},on:{"add-factor":t.addFactor,"del-type":t.confirmDelType,"create-new-type":t.createNewType}})],1)]),i("div",{staticClass:"w-2"}),t.topicsFactorsTypes[e]?i("div",{staticClass:"w-third flex flex-column justify-center di-r"},t._l(t.factorsByType(t.topicsFactorsTypes[e].id_factor_type),(function(a,s){return i("div",{key:s,staticClass:"chip-wrap",class:[t.nodeClass(s,t.factorsByTypeLength(t.topicsFactorsTypes[e].id_factor_type))]},[i("v-chip",{staticClass:"tc rounded-lg",attrs:{label:"",link:"",color:t.factorsTypes[t.topicsFactorsTypes[e].id_factor_type].color,"text-color":"white"},on:{click:function(e){e.stopPropagation(),t.editable&&t.editFactor(a)}}},[t._v(t._s(a.title))])],1)})),0):i("div",{staticClass:"w-third flex di-r"})])])])])}))],2)]),i("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.factorsTypes[t.editedFactor.type]?i("v-card",{attrs:{color:t.editedFactor.type?t.factorsTypes[t.editedFactor.type].color:null}},[i("v-card-title",{staticClass:"headline"}),i("v-card-text",[i("v-textarea",{ref:"addfactor",attrs:{name:"input-7-1",label:t.editedFactor.label?t.editedFactor.label:null,rows:"3","hide-details":"",dark:"",maxlength:"64"},model:{value:t.editedFactor.title,callback:function(e){t.$set(t.editedFactor,"title",e)},expression:"editedFactor.title"}})],1),i("v-card-actions",[t.editedFactor.id?i("v-menu",{attrs:{transition:"slide-y-transition",bottom:"","offset-y":"",rounded:"lg"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{color:"white",text:""}},"v-btn",s,!1),a),[t._v(" Usuń ")])]}}],null,!1,3497704063)},[i("v-list",{attrs:{dark:"",color:"#db2f89"}},[i("v-list-item",{on:{click:t.delFactor}},[i("v-list-item-title",[t._v("Potwierdzam usunięcie")])],1)],1)],1):t._e(),i("v-spacer"),i("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Anuluj ")]),i("v-btn",{attrs:{color:"white",text:""},on:{click:t.insertFactor}},[t._v(" Zapisz ")])],1)],1):t._e()],1),i("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.dialogNewType,callback:function(e){t.dialogNewType=e},expression:"dialogNewType"}},[i("v-card",{attrs:{color:"#18b9a7"}},[i("v-card-title",{staticClass:"headline"}),i("v-card-text",[i("v-form",{ref:"formtype",staticClass:"pt3",attrs:{"lazy-validation":""},model:{value:t.validType,callback:function(e){t.validType=e},expression:"validType"}},[i("v-text-field",{ref:"newtype",attrs:{type:"text",label:"Nowa grupa czynników",dark:"",maxlength:"20",rules:t.typeTitleRules},model:{value:t.newTypeTitle,callback:function(e){t.newTypeTitle=e},expression:"newTypeTitle"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.dialogNewType=!1}}},[t._v(" Anuluj ")]),i("v-btn",{attrs:{color:"white",text:"",disabled:!t.validType,loading:t.loadingCreateType},on:{click:t.insertNewType}},[t._v(" Zapisz ")])],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"320",dark:""},model:{value:t.dialogDelType,callback:function(e){t.dialogDelType=e},expression:"dialogDelType"}},[i("v-card",{attrs:{color:"#db2f89"}},[t.editedType.id_factor_type?i("v-card-title",{staticClass:"headline"},[t._v(" Na pewno chcesz usunąć "+t._s(t.factorsTypes[t.editedType.id_factor_type]?t.factorsTypes[t.editedType.id_factor_type].title:"grupę")+"? ")]):t._e(),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.dialogDelType=!1}}},[t._v(" Anuluj ")]),i("v-btn",{attrs:{text:"",loading:t.loadingDelType,disabled:t.loadingDelType},on:{click:t.delType}},[t._v(" Usuń ")])],1)],1)],1),i("v-fab-transition",[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showFab,expression:"showFab"}],attrs:{color:"primary",dark:"",fab:"",large:"",bottom:"",right:"",fixed:""},on:{click:t.printPdf},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[i("v-icon",[t._v(" mdi-printer ")])],1)],1)],1)},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-2 relative"},[i("div",{staticClass:"way-lmid"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-2 relative"},[i("div",{staticClass:"way-rmid"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-2 relative"},[i("div",{staticClass:"way-bl"}),i("div",{staticClass:"way-triangle"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-50"},[i("div",{staticClass:"w-100 flex flex-wrap"},[i("div",{staticClass:"w-third flex flex-column justify-center di-le relative z-1"}),i("div",{staticClass:"w-2"}),i("div",{staticClass:"w-third flex items-start"},[i("div",{staticClass:"w-100"})]),i("div",{staticClass:"w-2"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-2 relative"},[i("div",{staticClass:"way-bl"})])}],$=(i("d81d"),i("fb6a"),i("b64b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative btc tc",on:{mouseover:function(e){t.hiddenDelete=!1},mouseleave:function(e){t.hiddenDelete=!0}}},[t.topicFactorType.id?[!t.factorsLenght>0||0==t.nr&&t.factorsLenght<2?i("div",{staticClass:"pulse-bg",style:{backgroundColor:t.factorsTypes[t.topicFactorType.id_factor_type].color}}):t._e(),i("v-tooltip",{attrs:{top:"","max-width":"400",color:t.factorsTypes[t.topicFactorType.id_factor_type].color,disabled:!t.factorsTypes[t.topicFactorType.id_factor_type].content},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[i("v-btn",t._g(t._b({staticClass:"white--text rounded-lg z-3",attrs:{block:"",height:"64",elevation:n?8:0,color:t.factorsTypes[t.topicFactorType.id_factor_type].color},on:{click:function(e){e.stopPropagation(),t.editable&&t.$emit("add-factor",t.topicFactorType.id_factor_type)}}},"v-btn",s,!1),a),[t._v(" "+t._s(t.editable?"+ ":"")+t._s(t.factorsTypes[t.topicFactorType.id_factor_type].title)+" ")])]}}],null,!0)})]}}],null,!1,1050798044)},[i("span",{domProps:{textContent:t._s(t.factorsTypes[t.topicFactorType.id_factor_type].content)}})]),i("v-fab-transition",[t.nr>0&&t.editable?i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.hiddenDelete,expression:"!hiddenDelete"}],attrs:{color:"#db2f89",fab:"",dark:"","x-small":"",absolute:"",bottom:"",left:""},on:{click:function(e){return e.stopPropagation(),t.$emit("del-type",t.topicFactorType)}}},[i("v-icon",[t._v("mdi-minus")])],1):t._e()],1)]:t.topicsFactorsTypes[t.nr-1]?[2!=t.keyFactorsLength||t.topicFactorType.id?t._e():i("div",{staticClass:"pulse-ico mr2"}),i("v-menu",{attrs:{top:"",dark:"",rounded:"lg"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g(t._b({staticClass:"mr2 z-4",attrs:{outlined:t.keyFactorsLength<2,disabled:t.keyFactorsLength<2,depressed:"",fab:"",color:"#c9c9c9",dark:2==t.keyFactorsLength}},"v-btn",s,!1),Object.assign({},n,a)),[i("v-icon",[t._v("mdi-plus")])],1)]}}],null,!0)},[i("span",[t._v("Dodaj czynniki, siły, technologie")])])]}}])},[i("v-list",{staticClass:"pa0"},[t._l(t.availableTypes,(function(e,a){return i("v-list-item",{key:a,style:{"background-color":e.color},on:{click:function(i){return t.addType(e.id)}}},[i("v-list-item-title",[t._v(t._s(e.title))])],1)})),i("v-list-item",{style:{"background-color":"#18b9a7"},on:{click:function(e){return t.$emit("create-new-type")}}},[i("v-list-item-title",[t._v("Inne")]),i("v-list-item-icon",[i("v-icon",[t._v("mdi-plus")])],1)],1)],2)],1)]:t._e()],2)}),K=[],A=(i("caad"),i("2532"),i("2909")),W=i("ade3"),H={name:"DiagramButton",props:["topicsFactorsType","nr"],data:function(){return{hiddenDelete:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])("scenarios",["id","topicsFactorsTypes","topicsFactorsTypesLength","factorsByType","factorsByTypeLength","keyFactorsLength","factorsTypes","keyFactors","editable"])),{},{usedTypes:function(){return this.topicsFactorsTypes?this.topicsFactorsTypes.map((function(t){return parseInt(t.id_factor_type)})):[]},availableTypes:function(){var t=this;if(Object.keys(this.factorsTypes).length>0){var e=Object.keys(this.factorsTypes).filter((function(e){return!t.usedTypes.includes(parseInt(e))})).map((function(e){return Object(W["a"])({},e,t.factorsTypes[e])}));return e.length>0?Object.assign.apply(Object,Object(A["a"])(e)):[]}return[]},topicFactorType:function(){return this.topicsFactorsTypes[this.nr]?this.topicsFactorsTypes[this.nr]:{}},factorsLenght:function(){return this.factorsByTypeLength(this.topicFactorType.id_factor_type)}}),methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])("scenarios",["addTopicType"])),{},{addType:function(t){this.addTopicType({id_topic:this.id,id_factor_type:t})}})},R=H,G=i("0789"),U=i("ce87"),Z=i("8860"),J=i("da13"),q=i("34c3"),Q=i("5d23"),X=i("e449"),Y=i("3a2f"),tt=Object(u["a"])(R,$,K,!1,null,null,null),et=tt.exports;h()(tt,{VBtn:v["a"],VFabTransition:G["c"],VHover:U["a"],VIcon:m["a"],VList:Z["a"],VListItem:J["a"],VListItemIcon:q["a"],VListItemTitle:Q["a"],VMenu:X["a"],VTooltip:Y["a"]});var it=i("c0e9"),at=i.n(it),st=i("8baf"),nt={components:{DiagramButton:et},data:function(){return{dialogNewType:!1,newTypeTitle:"",typeTitleRules:[function(t){return!!t||"Nadaj nazwę nowej grupie"}],validType:!0,loadingCreateType:!1,dialog:!1,dialogKey:!1,dialogDelType:!1,editedType:{},keyFactorsSelection:[],dialogm1:"",editedFactor:{id:"",id_topic:"",title:"",ord:"",type:""},loadingDelType:!1,factorsTypes2:{content:"Czynniki zmian w otoczeniu zewnętrznym i wewnętrznym badanego obszaru, które w największym stopniu wpłyną na perspektywy jego rozwoju. Są to ważne zagadnienia, stanowiące wyzwania wymagające podjęcia odpowiednich działań, które mają istotny wpływ na rozwiązanie problemów wynikających z oceny aktualnego stanu."},fab:!1,showFab:!1,toPrint:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])("scenarios",["id","topicsFactorsTypes","topicsFactorsTypesLength","factorsByType","factorsByTypeLength","keyFactorsLength","factorsTypes","currentSlide","factors","factorsLength","keyFactors","title","steps","editable","loading"])),{},{keyFactorsSelectionLength:function(){return this.keyFactorsSelection.length},availableTypes:function(){return this.factorsTypes},extraSections:function(){var t=this.topicsFactorsTypesLength>3?Object.keys(this.topicsFactorsTypes).slice(3):[];return this.topicsFactorsTypesLength>2&&this.editable&&t.push(this.topicsFactorsTypesLength),t},toRead:function(){return!this.editable}}),watch:{dialogKey:function(t){t&&(this.keyFactorsSelection=this.keyFactors.map((function(t){return t.id})))}},mounted:function(){var t=this;setTimeout((function(){t.showFab=!0}),100)},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["b"])("scenarios",["getTopic","updateFactor","updateKeyFactors","deleteFactor","deleteTopicType","createAddTopicType"])),Object(l["d"])("scenarios",["setCurrentSlide","setEditable"])),{},{nodeClass:function(t,e){return 0==t&&1==e?{"di-single":!0}:0==t?{"di-first":!0}:t==e-1?{"di-last":!0}:{"di-mid":!0}},addFactor:function(t){var e=this;this.editedFactor={id:"",id_topic:this.id,title:"",type:t,key_factor:"0",ord:"0",label:"Dodaj "+this.factorsTypes[t].title},this.dialog=!0,setTimeout((function(){e.$refs.addfactor.focus()}),150)},editFactor:function(t){var e="Czynnik";this.editedFactor=Object(r["a"])({},t),this.editedFactor.label=e,this.dialog=!0},insertFactor:function(){var t=this;this.updateFactor(this.editedFactor).then((function(){return t.dialog=!1}))},delFactor:function(){var t=this;this.deleteFactor(this.editedFactor).then((function(){return t.dialog=!1}))},confirmDelType:function(t){console.log(t),this.editedType=Object(r["a"])({},t),this.dialogDelType=!0},delType:function(){var t=this;this.loadingDelType=!0,this.deleteTopicType(this.editedType).then((function(){t.loadingDelType=!1,t.dialogDelType=!1}))},createNewType:function(){var t=this;this.dialogNewType=!0,setTimeout((function(){t.$refs.formtype.reset(),t.$refs.newtype.focus()}),150)},insertNewType:function(){var t=this;this.$refs.formtype.validate(),this.loadingCreateType=!0,this.createAddTopicType({id_topic:this.id,title:this.newTypeTitle}).then((function(){t.loadingCreateType=!1,t.dialogNewType=!1}))},saveKeyFactors:function(){this.updateKeyFactors({id_topic:this.id,keyFactorsId:this.keyFactorsSelection}),this.dialogKey=!1},goToScenarios:function(){this.$router.push("/tematy/"+this.id+"/scenariusze")},hasFactors:function(t){return!!this.topicsFactorsTypes[t]&&this.factorsByTypeLength(this.topicsFactorsTypes[t].id_factor_type)>0},nextHasFactors:function(t){return this.hasFactors(parseInt(t)+1)},notLast:function(t){return!!(this.topicsFactorsTypesLength>t+1||this.editable&&this.topicsFactorsTypesLength>t)},printPdf:function(){var t=this,e=this.editable;this.toPrint=!0,this.setEditable(!1);var i=document.getElementById("app");setTimeout((function(){at()(i).then((function(t){var e=t.toDataURL("image/png"),i=new st["a"]("p","mm",[297,210]),a=i.getImageProperties(e),s=i.internal.pageSize.getWidth(),n=a.height*s/a.width;i.addImage(e,"PNG",0,0,s,n),i.save("schemat.pdf")})),t.toPrint=!1,t.setEditable(e)}),50)}})},rt=nt,ct=(i("ed12"),i("b0af")),ot=i("99d9"),lt=i("cc20"),dt=i("ef9a"),pt=i("169a"),ut=i("ce7e"),ft=i("4bd4"),ht=i("490a"),vt=i("2fa4"),yt=i("8654"),wt=i("a844"),mt=Object(u["a"])(rt,I,M,!1,null,null,null),bt=mt.exports;h()(mt,{VBtn:v["a"],VCard:ct["a"],VCardActions:ot["a"],VCardText:ot["b"],VCardTitle:ot["c"],VChip:lt["a"],VChipGroup:dt["a"],VDialog:pt["a"],VDivider:ut["a"],VFabTransition:G["c"],VForm:ft["a"],VHover:U["a"],VIcon:m["a"],VList:Z["a"],VListItem:J["a"],VListItemTitle:Q["a"],VMenu:X["a"],VProgressCircular:ht["a"],VSpacer:vt["a"],VTextField:yt["a"],VTextarea:wt["a"],VTooltip:Y["a"]});var _t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.loading?i("section",{staticClass:"tc page-loader"},[i("v-progress-circular",{attrs:{size:366,width:8,color:"#db2f89",indeterminate:""}})],1):i("div",{staticClass:"w-100",class:{"to-print":t.toPrint,"to-read":t.toRead}},[i("section",[i("div",{staticClass:"section-wrap center ph3 w-100 w-90-l tc"},[i("h1",{staticClass:"c-dark fw7 mt6 mb5 f3 f2-m f1-l w-100 w-70-l lh-solid center"},[t._v(t._s(t.title))])])]),i("section",[i("div",{staticClass:"section-wrap center ph3 w-100 w-90-l f7 c-dark"},[t._m(0),i("div",{staticClass:"y-axis w-100"},[i("div",{staticClass:"w-100 flex flex-wrap min-h-scenario justify-center"},[i("div",{staticClass:"w-16-ns"}),i("scenario-card",{attrs:{id:t.id,nr:"1"}}),i("div",{staticClass:"w-axis arr-up relative"},[i("div",{staticClass:"y-label"},[t._v(" "+t._s(t.keyFactors[1].title)+" ")])]),i("scenario-card",{attrs:{id:t.id,nr:"2"}}),i("div",{staticClass:"w-16-ns"})],1),i("div",{staticClass:"w-100 flex flex-wrap h-axis x-axis"},[t._m(1),i("div",{staticClass:"w-30-ns flex items-end justify-center x-label"},[t._v(" "+t._s(t.keyFactors[0].title)+" ")]),i("div",{staticClass:"w-axis"}),i("div",{staticClass:"w-30-ns arr-right relative flex items-start justify-center x-label"},[t._v(" "+t._s(t.keyFactors[0].title)+" ")]),t._m(2)]),i("div",{staticClass:"w-100 flex flex-wrap min-h-scenario justify-center"},[i("div",{staticClass:"w-16-ns"}),i("scenario-card",{attrs:{id:t.id,nr:"3"}}),i("div",{staticClass:"w-axis relative"},[i("div",{staticClass:"y-label label-bottom flex items-end justify-center f7"},[t._v(" "+t._s(t.keyFactors[1].title)+" ")])]),i("scenario-card",{attrs:{id:t.id,nr:"4"}}),i("div",{staticClass:"w-16-ns"})],1)]),t._m(3)])]),i("v-fab-transition",[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showFab,expression:"showFab"}],attrs:{color:"primary",dark:"",fab:"",large:"",bottom:"",right:"",fixed:""},on:{click:t.printPdf},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[i("v-icon",[t._v(" mdi-printer ")])],1)],1)],1)},gt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-100 tc pt2 pb4"},[t._v(" Wysokie oddziaływanie,"),i("br"),t._v("tendencja wzrostowa ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-16-ns flex items-center justify-center"},[i("div",{staticClass:"tc"},[t._v("Niskie oddziaływanie,"),i("br"),t._v("tendencja spadkowa")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-16-ns flex items-center justify-center"},[i("div",{staticClass:"tc"},[t._v("Wysokie oddziaływanie,"),i("br"),t._v("tendencja wzrostowa")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-100 tc pv4"},[t._v(" Niskie oddziaływanie,"),i("br"),t._v("tendencja spadkowa ")])}],Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[i("v-card",{staticClass:"w-30-ns scenario-card rounded-lg relative ",attrs:{elevation:a?10:0,color:t.scenario.title?t.scenarioColors[t.nr]:"#EBEBEB",to:"/tematy/"+t.id+"/scenariusze/"+t.nr}},[t.pulse?i("div",{staticClass:"pulse-bg bg-mid"}):t._e(),i("div",{staticClass:"card-wrap pa4 lh-solid"},[t.scenario.title?i("div",{staticClass:"f3 fw7 lh-title tc white--text f-www ph5"},[t._v(t._s(t.scenario.title))]):i("div",{staticClass:"f3 fw7 tc c-light"},[t._v("Scenariusz "+t._s(t.nr))]),t.selectedFactors.length>0?i("div",{staticClass:"tc pt3"},t._l(t.selectedFactors,(function(e,a){return i("v-chip",{key:a,staticClass:"mr1 mb1 rounded-lg",class:t.chipClass(e.type),attrs:{label:"",small:""}},[t._v(" "+t._s(e.title)+" ")])})),1):t._e()])])]}}])})},Ct=[],Ft={name:"ScenarioCard",props:["id","nr"],data:function(){return{scenarioColors:{1:"#DB2E89",2:"#A5005C",3:"#FF68B9",4:"#DB2E89"}}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])("scenarios",["scenarioByNr","senarioFactors","loading"])),{},{scenario:function(){return this.scenarioByNr(this.nr)},selectedFactors:function(){return this.senarioFactors(this.nr)},pulse:function(){return 1==this.nr&&!this.scenario.title||(!(2!=this.nr||this.scenario.title||!this.scenarioByNr(1).title)||(!(3!=this.nr||this.scenario.title||!this.scenarioByNr(1).title||!this.scenarioByNr(2).title)||!(4!=this.nr||this.scenario.title||!this.scenarioByNr(1).title||!this.scenarioByNr(2).title||!this.scenarioByNr(3).title)))}}),methods:{chipClass:function(t){return{chip1:1==t,chip2:2==t,chip3:3==t,chip4:4==t,chip5:5==t,chip6:6==t,"chip-custom":t>6}}}},kt=Ft,xt=(i("e029"),Object(u["a"])(kt,Tt,Ct,!1,null,null,null)),jt=xt.exports;h()(xt,{VCard:ct["a"],VChip:lt["a"],VHover:U["a"]});var zt={props:["id"],components:{ScenarioCard:jt},data:function(){return{currentStep:5,fab:!1,showFab:!1,toPrint:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])("scenarios",["factorsByType","keyFactors","title","steps","editable","loading"])),{},{toRead:function(){return!this.editable}}),created:function(){this.setCurrentSlide(1)},mounted:function(){var t=this;setTimeout((function(){t.showFab=!0}),100)},methods:Object(r["a"])(Object(r["a"])({},Object(l["d"])("scenarios",["setCurrentSlide","setEditable"])),{},{printPdf:function(){var t=this,e=this.editable;this.toPrint=!0,this.setEditable(!1);var i=document.getElementById("app");setTimeout((function(){at()(i).then((function(t){var e=t.toDataURL("image/png"),i=new st["a"]("p","mm",[297,210]),a=i.getImageProperties(e),s=i.internal.pageSize.getWidth(),n=a.height*s/a.width;i.addImage(e,"PNG",0,0,s,n),i.save("schemat.pdf")})),t.toPrint=!1,t.setEditable(e)}),50)}})},St=zt,Ot=(i("9703"),Object(u["a"])(St,_t,gt,!1,null,null,null)),Lt=Ot.exports;h()(Ot,{VBtn:v["a"],VFabTransition:G["c"],VIcon:m["a"],VProgressCircular:ht["a"]});var Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-100"},[i("section",{staticClass:"section-wrap center ph3 w-100 w-90-l mt6 mb6"},[t.editable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.scenarioTitle,expression:"scenarioTitle"}],staticClass:"w-100 tc f2 f1-l discrete c-dark fw7",attrs:{type:"text",placeholder:"Nazwa scenariusza"},domProps:{value:t.scenarioTitle},on:{blur:t.saveScenario,input:function(e){e.target.composing||(t.scenarioTitle=e.target.value)}}}):i("h1",{staticClass:"tc c-dark f2 f1-l"},[t._v(t._s(t.scenarioTitle?t.scenarioTitle:"Scenariusz "+t.nr))])]),i("section",{staticClass:"section-wrap center ph3 w-100 w-90-l mb3 flex justify-center"},[i("div",{staticClass:"ph3 w-50"},[i("h5",{staticClass:"c-dark mb4 fw7 f5"},[t._v("Czynniki kluczowe")]),i("div",{staticClass:"flex"},[i("div",{staticClass:"pr2"},[i("v-chip",{staticClass:"mb3 rounded-lg chip2 h36",attrs:{label:""}},[t._v(" "+t._s(t.keyFactors[0].title)+" ")]),i("div",{staticClass:"mt2 f5",domProps:{innerHTML:t._s(t.axisLegend.x)}})],1),i("div",{staticClass:"pl2"},[i("v-chip",{staticClass:"mb3 rounded-lg chip2 h36",attrs:{label:""}},[t._v(" "+t._s(t.keyFactors[1].title)+" ")]),i("div",{staticClass:"mt2 f5",domProps:{innerHTML:t._s(t.axisLegend.y)}})],1)])]),i("div",{staticClass:"ph3"},[t.selectedFactors.length>0?i("h5",{staticClass:"c-dark mb4 fw7 f5"},[t._v("Siły napędowe, trendy")]):i("div",{staticClass:"w-100 h2"}),t._l(t.selectedFactors,(function(e,a){return i("v-chip",{key:a,staticClass:"mr2 mb2 rounded-lg h36",class:t.chipClass(e.type),attrs:{label:""}},[t._v(" "+t._s(e.title)+" ")])})),t.editable?i("div",{staticClass:"w-100 mt3"},[i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"rounded-lg",attrs:{text:"",color:"primary"}},"v-btn",s,!1),a),[i("v-icon",{attrs:{left:""}},[t._v(" mdi-plus ")]),t._v("Siły, trendy ")],1)]}}],null,!1,3668709413),model:{value:t.dialogKey,callback:function(e){t.dialogKey=e},expression:"dialogKey"}},[i("v-card",[i("v-card-title",[t._v("Czynniki z największym wpływem na scenariusz")]),i("v-divider"),t._l(t.topicsFactorsTypes,(function(e,a){return i("v-card-text",{key:a,class:{mt3:0==a}},[i("h4",{staticClass:"f6 mb-1 fw5"},[t._v(" "+t._s(t.factorsTypes[e.id_factor_type].title)+" ")]),i("v-chip-group",{attrs:{column:"",multiple:"","active-class":t.chipActiveClass(e.id_factor_type)},model:{value:t.scenarioFactorsEdit,callback:function(e){t.scenarioFactorsEdit=e},expression:"scenarioFactorsEdit"}},t._l(t.factorsByType(e.id_factor_type),(function(e,a){return i("v-chip",{key:a,staticClass:"rounded-lg",attrs:{filter:"",label:"",value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)})),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.dialogKey=!1}}},[t._v(" Anuluj ")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.saveScenarioFactors}},[t._v(" Zapisz ")])],1)],2)],1)],1):t._e()],2)]),i("section",{staticClass:"section-wrap center ph3 w-100 w-90-l"},[i("div",{staticClass:"w-100 w-80-m w-75-l center mb6 mt6 f5"},[t.editable?i("editor",{attrs:{"api-key":"no-api-key",language:"pl","cloud-channel":"5",disabled:!1,id:"uuid",init:{menubar:!1},"model-events":"",placeholder:"Wnioski, działania jakie należy podjąć w przypadku realizacji scenariusza",inline:!0,plugins:"lists link","tag-name":"div",toolbar:"undo redo | h1 h2 h3 | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link ",value:t.scenarioContent,min_height:"100",inline_styles:!1},on:{onBlur:t.saveScenario},model:{value:t.scenarioContent,callback:function(e){t.scenarioContent=e},expression:"scenarioContent"}}):i("div",{staticClass:"fw5 f-www",domProps:{innerHTML:t._s(t.scenarioContent)}})],1)])])},Vt=[],Bt=i("ca72"),Pt={props:["id","nr"],components:{editor:Bt["a"]},data:function(){return{scenarioTitle:"",scenarioContent:"",scenarioFactors:[],axisLabelMin:"Niskie oddziaływanie,<br />tendencja spadkowa",axisLabelMax:"Wysokie oddziaływanie,<br />tendencja wzrostowa",dialogKey:!1,scenarioFactorsEdit:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])("scenarios",["factorsTypes","topicsFactorsTypes","factorsByType","senarioFactors","steps","notKeyFactors","keyFactors","findFactorsMultiple","title","scenarioByNr","editable","loading"])),{},{scenario:function(){return this.scenarioByNr(this.nr)},factors:function(){return this.notKeyFactors},factorsLength:function(){return this.factors.length},keyFactorsLength:function(){return this.keyFactors.length},selectedFactors:function(){return this.senarioFactors(this.nr)},axisLegend:function(){return 1==this.nr?{x:this.axisLabelMin,y:this.axisLabelMax}:2==this.nr?{x:this.axisLabelMax,y:this.axisLabelMax}:3==this.nr?{x:this.axisLabelMin,y:this.axisLabelMin}:{x:this.axisLabelMax,y:this.axisLabelMin}},scenarioFactorsIds:function(){return this.selectedFactors.map((function(t){return t.id}))}}),created:function(){this.scenarioTitle=this.scenario.title,this.scenarioContent=this.scenario.content,this.scenarioFactors=this.scenarioFactorsEdit=this.scenarioFactorsIds,this.setCurrentSlide(2)},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["b"])("scenarios",["updateScenario","updateScenarioFactors"])),Object(l["d"])("scenarios",["setCurrentSlide"])),{},{saveScenario:function(){this.updateScenario({id_topic:this.id,id:this.scenario.id?this.scenario.id:"",ord:this.nr,title:this.scenarioTitle,content:this.scenarioContent})},saveScenarioFactors:function(){var t=this;this.scenarioFactors=this.scenarioFactorsEdit,this.updateScenarioFactors({id_topic:this.id,nr:this.nr,factors:JSON.stringify(this.scenarioFactors)}).then((function(){return t.dialogKey=!1}))},chipClass:function(t){return{chip1:1==t,chip2:2==t,chip3:3==t,chip4:4==t,chip5:5==t,chip6:6==t,"chip-custom":t>6}},chipActiveClass:function(t){return t<7?"chip"+t:"chip-custom"}})},Et=Pt,Nt=(i("276e"),Object(u["a"])(Et,Dt,Vt,!1,null,null,null)),It=Nt.exports;h()(Nt,{VBtn:v["a"],VCard:ct["a"],VCardActions:ot["a"],VCardText:ot["b"],VCardTitle:ot["c"],VChip:lt["a"],VChipGroup:dt["a"],VDialog:pt["a"],VDivider:ut["a"],VIcon:m["a"],VSpacer:vt["a"]}),a["a"].use(N["a"]);var Mt=[{path:"/tematy/:id",name:"Diagram",component:bt,props:!0},{path:"/tematy/:id/scenariusze",name:"Scenariusze",component:Lt,props:!0},{path:"/tematy/:id/scenariusze/:nr",name:"Scenariusz",component:It,props:!0}],$t=new N["a"]({mode:"history",routes:Mt}),Kt=$t;i("845f"),i("3788");a["a"].config.productionTip=!1,new a["a"]({store:B,vuetify:E,router:Kt,render:function(t){return t(k)}}).$mount("#app")},7364:function(t,e,i){},"845f":function(t,e,i){},"85ec":function(t,e,i){},9703:function(t,e,i){"use strict";i("40a2")},e029:function(t,e,i){"use strict";i("7364")},ed12:function(t,e,i){"use strict";i("0b1c")}});
//# sourceMappingURL=app.675c789f.js.map